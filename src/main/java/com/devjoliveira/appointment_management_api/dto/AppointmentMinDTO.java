package com.devjoliveira.appointment_management_api.dto;

import java.time.LocalDateTime;
import java.util.UUID;

import com.devjoliveira.appointment_management_api.domain.Appointment;
import com.fasterxml.jackson.annotation.JsonFormat;

import jakarta.validation.constraints.NotBlank;

public record AppointmentMinDTO(
                UUID id,
                @NotBlank String customerEmail,
                @NotBlank String professionalEmail,
                @NotBlank String productName,
                @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = "dd/MM/yyyy HH:mm:ss") LocalDateTime scheduledAt,
                String status) {

        public AppointmentMinDTO(Appointment entity) {
                this(entity.getId(), entity.getCustomer().getEmail(),
                                entity.getProfessional().getEmail(),
                                entity.getProduct().getName(), entity.getScheduledAt(),
                                entity.getStatus().toString());
        }

}
